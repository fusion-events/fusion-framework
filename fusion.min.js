(function(d){var e=function(){},c={version:"1.0.0"},p=function(a,g,b){var f;f=g&&g.hasOwnProperty("constructor")?g.constructor:function(){return a.apply(this,arguments)};f=d.extend(!0,{},f,a);e.prototype=a.prototype;f.prototype=new e;g&&(f.prototype=d.extend(!0,{},f.prototype,g));b&&(f=d.extend(!0,{},f,b));f.prototype.constructor=f;f.__super__=a.prototype;return f},n=function(a,g){var b=p(this,a,g);b.extend=n;return b};(function(a){e=function(g){this.data={};for(var b in g)this.data[b]=g[b];this.name=
null;this.isValidEvent=!0;this.propagationStopped=!1};a.event=new e;a.event.__proto__.stopPropagation=function(){this.propagationStopped=!0;return!1};a.event.__proto__.isPropagationStopped=function(){return this.propagationStopped};a.event.__proto__.initialize=function(g){this.propagationStopped=!1;for(var b in g)void 0!==this.prototype[b]&&(this.data[b]=g[b])};a.event.__proto__.getData=function(g){return void 0===g?this.data:this.data[g]};a.event.extend=n})(c);(function(a){e=function(){this.collection=
[]};a.fused=new e;a.fused.__proto__.add=function(g,b,a,c){if(void 0===g)throw Error("eventName must be defined.");if(void 0===b)throw Error("handler must be defined.");if(void 0===a)throw Error("priority must be defined.");this.collection.push({name:g,priority:a,handler:b,context:c});return this};a.fused.__proto__.remove=function(a,b,c,d){var e=[],h,l;for(l in this.collection)h=this.collection[l],h.name==a&&(void 0===b?e.push(this.collection.splice(l,1)):b==h.handler&&c==h.priority&&(void 0===d?e.push(this.collection.splice(l,
1)):d==h.context&&e.push(this.collection.splice(l,1))));return!!e.length};a.fused.__proto__.all=function(a){if(void 0===a)throw Error("eventName must be defined.");var b=[],c,d;for(d in this.collection)c=this.collection[d],c.name==a&&b.push(c);b.sort(function(a,b){return a.priority>b.priority?1:-1});return b}})(c);(function(a){e=function(){this.collection=[]};a.events=new e;a.events.__proto__.add=function(a,b){if(void 0!==this.collection[a])throw Error("Event with name '"+a+"' already exists!");b=
void 0===b?{}:b;b.eventName=a;this.collection[a]=b;return this};a.events.__proto__.has=function(a){return void 0!==this.collection[a]};a.events.__proto__.get=function(a){return this.collection[a]}})(c);c.fuse=function(a,d,b,e){if(void 0===c.events.get(a))throw Error("Fused event '"+a+"' does not exist.");if(null===b||void 0===b)b=50;c.fused.add(a,d,b,e)};c.bind=c.fuse;c.defuse=function(a,d,b){if(!c.events.has(a))throw Error("Fused event '"+a+"' does not exist.");if(null===b||void 0===b)b=50;c.fused.remove(a,
d,b)};c.unbind=c.defuse;c.ignite=function(a,e){var b=c.fused.all(a),f,m,k,h;if(!c.events.has(a))throw Error("Fused event '"+a+"' does not exist.");f=c.events.get(a);if(!f.isValidEvent)throw Error("Fused event '"+a+"' does not have a valid event class.");f.initialize(e);for(m in b)if(k=b[m].handler,h=b[m].context,k=void 0===h?k(f):d.proxy(k,h,f),!1===k||f.isPropagationStopped()){f.stopPropagation();break}return f};c.trigger=c.ignite;d.fn.fusion=c;window.$f=void 0===window.$f?d.fn.fusion:window.$f})(jQuery);(function(d){var e=d.event.extend({window:window,document:document});d.events.add("DOCUMENT_LOAD",e);d.events.add("DOCUMENT_UNLOAD",e);$(function(){d.ignite("DOCUMENT_LOAD",{window:window,document:document});$(document).unload(function(){d.ignite("DOCUMENT_UNLOAD",{window:window,document:document})})})})($.fn.fusion);(function(d){var e=d.event.extend({input:null});d.events.add("INPUT_BLUR",e);d.events.add("INPUT_FOCUS",e);d.events.add("INPUT_CHANGE",e);e=d.event.extend({input:null,key:null});d.events.add("INPUT_KEYUP",e);d.events.add("INPUT_KEYDOWN",e);$(function(){$(document).on("blur",":input",function(){d.ignite("INPUT_BLUR",{input:this})});$(document).on("focus",":input",function(){d.ignite("INPUT_FOCUS",{input:this})});$(document).on("change",":input",function(){d.ignite("INPUT_CHANGE",{input:this})});$(document).on("keyup",
":input",function(c){d.ignite("INPUT_KEYUP",{input:this,key:"number"==typeof c.which?c.which:c.keyCode})});$(document).on("keydown",":input",function(c){d.ignite("INPUT_KEYDOWN",{input:this,key:"number"==typeof c.which?c.which:c.keyCode})})})})($.fn.fusion);
