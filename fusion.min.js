(function(f){var g=function(){},d={version:"1.0.0"},k=function(a,c,b){var e;e=c&&c.hasOwnProperty("constructor")?c.constructor:function(){return a.apply(this,arguments)};e=f.extend(!0,{},e,a);g.prototype=a.prototype;e.prototype=new g;c&&(e.prototype=f.extend(!0,{},e.prototype,c));b&&(e=f.extend(!0,{},e,b));e.prototype.constructor=e;e.__super__=a.prototype;return e},h=function(a,c){var b=k(this,a,c);b.extend=h;return b};(function(a){g=function(c){this.data={};for(var b in c)this.data[b]=c[b];this.isValidEvent=
!0};a.event=new g;a.event.__proto__.initialize=function(c){for(var b in c)void 0!==this.prototype[b]&&(this.data[b]=c[b])};a.event.__proto__.getData=function(c){return void 0===c?this.data:this.data[c]};a.event.extend=h})(d);(function(a){g=function(){this.collection=[]};a.fused=new g;a.fused.__proto__.add=function(c,b,a){if(void 0===c)throw Error("eventName must be defined.");if(void 0===b)throw Error("handler must be defined.");if(void 0===a)throw Error("priority must be defined.");this.collection.push({name:c,
priority:a,handler:b});return this};a.fused.__proto__.remove=function(c,b,a){var d=[],f,g;for(g in this.collection)f=this.collection[g],f.name==c&&(void 0===b?d.push(this.collection.splice(g,1)):b==f.handler&&a==f.priority&&d.push(this.collection.splice(g,1)));return!!d.length};a.fused.__proto__.all=function(a){if(void 0===a)throw Error("eventName must be defined.");var b=[],e,d;for(d in this.collection)e=this.collection[d],e.name==a&&b.push(e);b.sort(function(a,b){return a.priority>b.priority?1:
-1});return b}})(d);(function(a){g=function(){this.collection=[]};a.events=new g;a.events.__proto__.add=function(a,b){if(void 0!==this.collection[a])throw Error("Event with name '"+a+"' already exists!");b=void 0===b?{}:b;this.collection[a]=b;return this};a.events.__proto__.has=function(a){return void 0!==this.collection[a]};a.events.__proto__.get=function(a){return this.collection[a]}})(d);d.fuse=function(a,c,b){if(void 0===d.events.get(a))throw Error("Fused event does not exist.");if(null===b||
void 0===b)b=50;d.fused.add(a,c,b)};d.defuse=function(a,c,b){if(!d.events.has(a))throw Error("Fused event does not exist.");if(null===b||void 0===b)b=50;d.fused.remove(a,c,b)};d.ignite=function(a,c){var b=d.fused.all(a),e,f;for(f in b){if(!d.events.has(a))throw Error(a+" is not a valid event.");e=d.events.get(a);e.initialize(c);if(!e.isValidEvent)throw Error(a+" is not a valid event class.");if(!1===b[f].handler(e))return!1}return!0};f.fn.fusion=d;window.$f=void 0===window.$f?f.fn.fusion:window.$f})(jQuery);
(function(f){$(function(){f.ignite("DOCUMENT_LOAD",{window:window,cheese:"cheese"});$(document).unload(function(){f.ignite("DOCUMENT_UNLOAD",{window:window})})})})($.fn.fusion);(function(f){var g=f.event.extend({window:window,document:document});f.events.add("DOCUMENT_LOAD",g);f.events.add("DOCUMENT_UNLOAD",g)})($.fn.fusion);
