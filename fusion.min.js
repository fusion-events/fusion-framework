(function(c){var e=function(){},a={version:"1.3.2"},p=function(a,f,b){var d;d=f&&f.hasOwnProperty("constructor")?f.constructor:function(){return a.apply(this,arguments)};d=c.extend(!0,{},d,a);e.prototype=a.prototype;d.prototype=new e;f&&(d.prototype=c.extend(!0,{},d.prototype,f));b&&(d=c.extend(!0,{},d,b));d.prototype.constructor=d;d.__super__=a.prototype;return d},n=function(a,f){var b=p(this,a,f);b.extend=n;return b};(function(a){var f=function(b){this.data={};for(var d in b)this.data[d]=b[d];this.name=
null;this.isValidEvent=!0;this.propagationStopped=!1};f.prototype.stopPropagation=function(){this.propagationStopped=!0;return!1};f.prototype.isPropagationStopped=function(){return this.propagationStopped};f.prototype.initialize=function(b){this.propagationStopped=!1;for(var d in b)void 0!==this.prototype[d]&&(this.data[d]=b[d])};f.prototype.getData=function(b){return void 0===b?this.data:this.data[b]};f.prototype.extend=n;a.event=new f})(a);(function(a){e=function(){this.collection=[]};e.prototype.add=
function(a,b,d,c){if(void 0===a)throw Error("eventName must be defined.");if(void 0===b)throw Error("handler must be defined.");if(void 0===d)throw Error("priority must be defined.");this.collection.push({name:a,priority:d,handler:b,context:c});return this};e.prototype.remove=function(a,b,d,c){var e=[],g,k;for(k in this.collection)g=this.collection[k],g.name==a&&(void 0===b?e.push(this.collection.splice(k,1)):b==g.handler&&d==g.priority&&(void 0===c?e.push(this.collection.splice(k,1)):c==g.context&&
e.push(this.collection.splice(k,1))));return!!e.length};e.prototype.all=function(a){if(void 0===a)throw Error("eventName must be defined.");var b=[],d,c;for(c in this.collection)d=this.collection[c],d.name==a&&b.push(d);b.sort(function(a,b){return a.priority>b.priority?1:-1});return b};a.fused=new e})(a);(function(a){e=function(){this.collection=[]};e.prototype.add=function(a,b){if(void 0!==this.collection[a])throw Error("Event with name '"+a+"' already exists!");b=void 0===b?{}:b;b.eventName=a;this.collection[a]=
b;return this};e.prototype.has=function(a){return void 0!==this.collection[a]};e.prototype.get=function(a){return this.collection[a]};a.events=new e})(a);a.fuse=function(c,e,b,d){if(void 0===a.events.get(c))throw Error("Fused event '"+c+"' does not exist.");if(null===b||void 0===b)b=50;a.fused.add(c,e,b,d)};a.bind=a.fuse;a.defuse=function(c,e,b){if(!a.events.has(c))throw Error("Fused event '"+c+"' does not exist.");if(null===b||void 0===b)b=50;a.fused.remove(c,e,b)};a.unbind=a.defuse;a.ignite=function(c,
e){var b=a.fused.all(c),d,l,h,m;if(!a.events.has(c))throw Error("Fused event '"+c+"' does not exist.");d=a.events.get(c);if(!d.isValidEvent)throw Error("Fused event '"+c+"' does not have a valid event class.");d.initialize(e);for(l in b)if(b.hasOwnProperty(l)&&(h=b[l].handler,m=b[l].context,h=void 0!==m?jQuery.proxy(h,m,d)():h(d),!1===h||d.isPropagationStopped())){d.stopPropagation();break}return d};a.trigger=a.ignite;c.fn.fusion=a;window.$f=void 0===window.$f?c.fn.fusion:window.$f})(jQuery);(function(c){var e=c.event.extend({window:window,document:document});c.events.add("DOCUMENT_LOAD",e);c.events.add("DOCUMENT_UNLOAD",e);$(function(){c.ignite("DOCUMENT_LOAD",{window:window,document:document});$(document).unload(function(){c.ignite("DOCUMENT_UNLOAD",{window:window,document:document})})})})($.fn.fusion);(function(c){var e=c.event.extend({input:null});c.events.add("INPUT_BLUR",e);c.events.add("INPUT_FOCUS",e);c.events.add("INPUT_CHANGE",e);e=c.event.extend({input:null,key:null});c.events.add("INPUT_KEYUP",e);c.events.add("INPUT_KEYDOWN",e);$(function(){$(document).on("blur",":input",function(){c.ignite("INPUT_BLUR",{input:this})});$(document).on("focus",":input",function(){c.ignite("INPUT_FOCUS",{input:this})});$(document).on("change",":input",function(){c.ignite("INPUT_CHANGE",{input:this})});$(document).on("keyup",
":input",function(a){c.ignite("INPUT_KEYUP",{input:this,key:"number"==typeof a.which?a.which:a.keyCode})});$(document).on("keydown",":input",function(a){c.ignite("INPUT_KEYDOWN",{input:this,key:"number"==typeof a.which?a.which:a.keyCode})})})})($.fn.fusion);
